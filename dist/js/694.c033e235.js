"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[694],{21694:function(e,l,r){r.r(l),r.d(l,{default:function(){return n}});var t=r(73396);const a={style:{width:"70%","margin-top":"5%"}},m=(0,t._)("br",null,null,-1);function u(e,l,r,u,o,s){const i=(0,t.up)("el-input"),n=(0,t.up)("el-form-item"),d=(0,t.up)("el-option"),p=(0,t.up)("el-select"),g=(0,t.up)("el-button"),h=(0,t.up)("el-form");return(0,t.wg)(),(0,t.iD)("div",a,[(0,t.Wm)(h,{model:o.ruleForm,rules:e.rules,ref:"ruleForm","label-width":"100px",class:"demo-dynamic"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{style:{width:"49%"},label:"用户名",prop:"new_name",rules:[{required:!0,message:"请注意用户名长度在3~15个字符",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 5 个字符",trigger:"blur"}]},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{modelValue:o.ruleForm.new_name,"onUpdate:modelValue":l[0]||(l[0]=e=>o.ruleForm.new_name=e)},null,8,["modelValue"])])),_:1}),m,(0,t.Wm)(n,{label:"性别",prop:"region"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{modelValue:o.sex,"onUpdate:modelValue":l[1]||(l[1]=e=>o.sex=e),placeholder:"请选择性别"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{label:"男",value:"shanghai"}),(0,t.Wm)(d,{label:"女",value:"beijing"})])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(n,{style:{width:"49%"},label:"城市",prop:"city",rules:[{required:!1,message:"请注意长度在2~20个字符",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{modelValue:o.ruleForm.city,"onUpdate:modelValue":l[2]||(l[2]=e=>o.ruleForm.city=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(n,{style:{width:"60%"},prop:"email",label:"邮箱",rules:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{modelValue:o.ruleForm.email,"onUpdate:modelValue":l[3]||(l[3]=e=>o.ruleForm.email=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(n,{style:{width:"80%",height:"120px"},label:"座右铭",prop:"motto",rules:[{required:!1,message:"请输入座右铭",trigger:"blur"},{min:0,max:150,message:"请注意长度不能超过150个字符",trigger:"blur"}]},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{type:"textarea",style:{height:"100px",resize:"none"},modelValue:o.ruleForm.motto,"onUpdate:modelValue":l[4]||(l[4]=e=>o.ruleForm.motto=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(n,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{plain:"",type:"primary",onClick:l[5]||(l[5]=e=>s.submitForm("ruleForm")),color:"#90C2C3"},{default:(0,t.w5)((()=>[(0,t.Uk)("提交修改")])),_:1})])),_:1})])),_:1},8,["model","rules"])])}var o={name:"InfoEditor",data(){return{ruleForm:{old_name:"",new_name:"",email:"",city:"",motto:""},sex:""}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return!1;this.ruleForm.old_name=this.$cookies.get("name"),this.$http.post("/UserView",this.ruleForm).then((e=>{"success"==e.data["message"]?(alert("修改成功"),this.$cookies.set("name",this.ruleForm.new_name,{expires:"1D"}),this.$router.go(0)):alert(e.data["message"])}))}))}}},s=r(40089);const i=(0,s.Z)(o,[["render",u]]);var n=i}}]);
//# sourceMappingURL=694.c033e235.js.map