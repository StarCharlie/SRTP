"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[756],{60756:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});a(57658);var r=a(73396),n=a(44870),o=a(87139),s=a(66949),l=a(72748);const i=e=>((0,r.dD)("data-v-7c22e513"),e=e(),(0,r.Cn)(),e),u={style:{"text-align":"center"}},d=i((()=>(0,r._)("img",{src:s,class:"image"},null,-1))),f=["innerHTML"],p=["innerHTML"],m={style:{"text-align":"-webkit-center"}},g={style:{"margin-top":"50px","margin-left":"20px","margin-bottom":"50px"}},c=(e,t)=>{if(""==t)return e;e.length>=200&&(e=e.substring(0,200)+"...");const a=new RegExp(t,"ig");return e.replace(a,(e=>`<span style="color:#66CCFF">${e}</span>`))},h=e=>"xuewei_infor"==e?["穴位","success",0]:"jiufa_infor"==e?["灸法","info",1]:"bingzheng_infor"==e?["病症","warning",2]:"其它",w={data(){return{transform:{word:"",page_number:1,page_size:10,select_infor:{xuewei:!0,jiufa:!0,bingzheng:!0}},data:null,totalNumber:null,showResult:!1,favor:{infor_category:"",user_id:"",infor_id:""}}},created(){null!=this.$route.query.word&&(this.transform.word=this.$route.query.word),this.search()},methods:{cSuggestions(e){e.map((e=>{e["title"]=c(e["title"],this.transform.word),e["infor"]=c(e["infor"],this.transform.word)})),this.data=e},search(){this.$http.post("/home/search",this.transform).then((e=>{this.showResult=!0,this.cSuggestions(e.data["data"]),this.totalNumber=e.data["totalNumber"]}))},async toInfor(e,t){this.$router.push({path:"/Infor",query:{id:e,category:t}})},async like(e){this.favor["user_id"]=null==this.$cookies.get("id")?-1:this.$cookies.get("id"),this.favor["infor_category"]=this.$route.query.category,this.favor["infor_id"]=e,this.$http.post("/home/HomeView",this.favor).then((e=>{"success"==e.data["message"]?alert("收藏成功"):alert(e.data["message"])}))}}};var _=Object.assign(w,{__name:"SearchView",setup(e){return(e,t)=>{const a=(0,r.up)("el-button"),s=(0,r.up)("el-input"),i=(0,r.up)("el-col"),c=(0,r.up)("el-row"),w=(0,r.up)("el-checkbox"),_=(0,r.up)("el-tag"),y=(0,r.up)("el-card"),b=(0,r.up)("el-pagination");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(c,{gutter:20},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{span:16,offset:4},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:e.transform.word,"onUpdate:modelValue":t[0]||(t[0]=t=>e.transform.word=t),placeholder:"请搜索"},{append:(0,r.w5)((()=>[(0,r.Wm)(a,{style:{"margin-left":"-20px","margin-top":"0px",height:"60px",width:"70px","font-size":"40px"},onClick:e.search,icon:(0,n.SU)(l.olm),round:""},null,8,["onClick","icon"])])),_:1},8,["modelValue"])])),_:1}),(0,r.Wm)(i,{span:4})])),_:1}),e.showResult?((0,r.wg)(),(0,r.j4)(c,{key:0,gutter:20},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{span:20,offset:2},{default:(0,r.w5)((()=>[(0,r._)("div",u,[(0,r.Wm)(w,{modelValue:e.transform.select_infor.xuewei,"onUpdate:modelValue":t[1]||(t[1]=t=>e.transform.select_infor.xuewei=t),onChange:t[2]||(t[2]=t=>e.search()),label:"穴位",size:"large"},null,8,["modelValue"]),(0,r.Wm)(w,{modelValue:e.transform.select_infor.jiufa,"onUpdate:modelValue":t[3]||(t[3]=t=>e.transform.select_infor.jiufa=t),onChange:t[4]||(t[4]=t=>e.search()),label:"灸法",size:"large"},null,8,["modelValue"]),(0,r.Wm)(w,{modelValue:e.transform.select_infor.bingzheng,"onUpdate:modelValue":t[5]||(t[5]=t=>e.transform.select_infor.bingzheng=t),onChange:t[6]||(t[6]=t=>e.search()),label:"病症",size:"large"},null,8,["modelValue"])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.data,(t=>((0,r.wg)(),(0,r.j4)(y,{key:t,shadow:"always"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{gutter:20},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{span:5},{default:(0,r.w5)((()=>[d])),_:1}),(0,r.Wm)(i,{span:13,offset:1},{default:(0,r.w5)((()=>[(0,r._)("h2",{id:"title",innerHTML:t["title"]},null,8,f),(0,r.Wm)(_,{class:"ml-2",size:"large",type:h(t["index"])[1]},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(h(t["index"])[0]),1)])),_:2},1032,["type"]),(0,r._)("p",{id:"infor",innerHTML:t["infor"]},null,8,p)])),_:2},1024),(0,r.Wm)(i,{span:5},{default:(0,r.w5)((()=>[(0,r._)("div",m,[(0,r.Wm)(a,{type:"primary",style:{width:"150px"},onClick:a=>e.toInfor(t["id"],h(t["index"])[2])},{default:(0,r.w5)((()=>[(0,r.Uk)("详情")])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,r._)("div",g,[(0,r.Wm)(b,{onSizeChange:t[7]||(t[7]=t=>e.search()),onCurrentChange:t[8]||(t[8]=t=>e.search()),"current-page":e.transform.page_number,"onUpdate:current-page":t[9]||(t[9]=t=>e.transform.page_number=t),"page-sizes":[5,10,15,20],"page-size":e.transform.page_size,"onUpdate:page-size":t[10]||(t[10]=t=>e.transform.page_size=t),layout:"total, sizes, prev, pager, next, jumper",total:e.totalNumber},null,8,["current-page","page-size","total"])])])),_:1}),(0,r.Wm)(i,{span:2})])),_:1})):(0,r.kq)("",!0)],64)}}}),y=a(40089);const b=(0,y.Z)(_,[["__scopeId","data-v-7c22e513"]]);var x=b}}]);
//# sourceMappingURL=756.1a82cdc0.js.map